webpackJsonp([0],{"/e4I":function(t,e){},"0Khs":function(t,e){},"7Itr":function(t,e){t.exports="data:image/png;base64,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"},"8GQd":function(t,e){},"9Zvu":function(t,e){},I8cC:function(t,e){},LiS1:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("7+uW");class r{static today(){return this.dayString((new Date).toString())}static dayString(t){let e=new Date(t),a=e.getDate(),s=e.getMonth()+1,r=e.getFullYear();return a<10&&(a="0"+a),s<10&&(s="0"+s),r+"-"+s+"-"+a}static parseUrl(t,e){let a=document.createElement("a");return a.href=t,a[e]}static day(t){let e=new Date(t),a=e.getDate(),s=e.getMonth()+1,r=e.getFullYear();return a<10&&(a="0"+a),s<10&&(s="0"+s),r+"-"+s+"-"+a}static groupByDomain(t,e){let a={},s={},i=[],n={};t.map(t=>{let i=r.parseUrl(t.url,"hostname");i in a||(a[i]=0,s[i]={}),a[i]+=t[e];for(let e in t.words){let a=t.words[e],r=a.word;r in s[i]?s[i][r]+=a.tfidf:s[i][r]=a.tfidf}});for(let t in s){n[t]=[];for(let e in s[t])n[t].push({word:e,tfidf:s[t][e]});n[t].sort((t,e)=>e.tfidf-t.tfidf)}for(let t in a){let s={domain:t,words:n[t]};s[e]=a[t],i.push(s)}return i}}const i={data:{apiBase:"https://df.sdipi.ch",visitedSites:[],visitedDomains:[],watchedSites:[],watchedDomains:[],watchedKeyWords:{},topicsWatched:{},allTopics:{},historySites:[],historyWords:[],historyTopics:[],tfIdf:[],tfIdfByUrl:{},tfIdfByDomain:{},bestKeyWords:{},interestsList:[],currentTags:{},tags:[],nbDocuments:null,oldest:null,connected:null,wdfId:-1,topicsByUrl:{},filterForm:{startDate:null,endDate:null},settingsForm:{interests:null},trackersForm:{selectedDomain:"",fromOrTo:"",active:{to:{},from:{}},modalList:[],nbHiddenSending:0,nbHiddenRecieving:0},graph:{selected:!1,interest:void 0,formChanged:!1},trackers:{},trackersPage:{mostSending:[],mostRecieving:[]},topicsPage:{topics:[]},stats:{nbRequests:0},urlsTopic:{},loading:!0,loadingTrackers:!0,loadingStats:!0,api:{}},methods:{connectionState:()=>fetch(i.data.apiBase+"/api/connectionState",{credentials:"include"}).then(t=>t.json()).then(t=>{i.data.api.connectionState=t,t.error?(i.data.connected=!1,i.data.wdfId=-1):t.success&&(i.data.connected=!0,i.data.wdfId=t.wdfId)}),refreshVisitedSites(t){let e=i.data.apiBase+"/api/mostVisitedSites";return t&&(e+="?from="+i.data.filterForm.startDate+"&to="+i.data.filterForm.endDate),fetch(e,{credentials:"include"}).then(t=>t.json()).then(t=>{i.data.api.mostVisitedSites=t})},computeVisitedSites(){const t=i.data.api.mostVisitedSites;if(t){let e=r.groupByDomain(t,"count"),a=t.sort((t,e)=>e.count-t.count).slice(0,10),s=e.sort((t,e)=>e.count-t.count).slice(0,10);i.data.visitedSites=a,i.data.visitedDomains=s}},refreshWatchedSites(t){let e=i.data.apiBase+"/api/mostWatchedSites";return t&&(e+="?from="+i.data.filterForm.startDate+"&to="+i.data.filterForm.endDate),fetch(e,{credentials:"include"}).then(t=>t.json()).then(t=>{i.data.api.mostWatchedSites=t})},computeWatchedSites(){const t=i.data.api.mostWatchedSites;if(t){let e=r.groupByDomain(t,"time"),a=t.sort((t,e)=>e.time-t.time).slice(0,10),s=e.sort((t,e)=>e.time-t.time).slice(0,10);i.data.watchedSites=a,i.data.watchedDomains=s,i.data.topicsWatched={},i.data.topicsByUrl={};for(let e of t){let t=JSON.parse(e.topics);i.data.topicsByUrl[e.url]=t;for(let a in t){let s=parseInt(a);s in i.data.topicsWatched||(i.data.topicsWatched[s]=0),i.data.topicsWatched[s]+=t[s]*e.time}}}},computeWatchedTopics(){i.data.topicsPage.topics=[];for(let t in i.data.topicsWatched){let e=i.data.topicsWatched[t],a=i.data.allTopics[t].slice(0,3).map(t=>t.word).join(" ");i.data.topicsPage.topics.push({amount:e,words:a,topicId:parseInt(t)})}i.data.topicsPage.topics.sort((t,e)=>e.amount-t.amount),i.data.topicsPage.topics=i.data.topicsPage.topics.splice(0,20)},refreshNbDocuments:()=>fetch(i.data.apiBase+"/api/nbDocuments",{credentials:"include"}).then(t=>t.json()).then(t=>{i.data.api.nbDocuments=t}),computeNbDocuments(){const t=i.data.api.nbDocuments;t&&(i.data.nbDocuments=t.count)},computeWords(){let t=i.data.watchedSites,e={},a={};for(let s in t){let r=t[s],i=r.url;a[i]={};for(let t in r.words){let s=r.words[t];a[i][s.word]=s.tfidf,s.word in e?e[s.word]+=s.tfidf*r.time:e[s.word]=s.tfidf*r.time}}i.data.watchedKeyWords=e,i.data.bestKeyWords=a},refreshHistory(t){let e=i.data.apiBase+"/api/historySites";return t&&(e+="?from="+i.data.filterForm.startDate+"&to="+i.data.filterForm.endDate),fetch(e,{credentials:"include"}).then(t=>t.json()).then(t=>{i.data.api.historySites=t})},computeHistory(){const t=i.data.api.historySites;if(t){let e={},a={},s={},r=[];for(let s in t){let r=t[s],n=new Date(r.day).getTime();n in e||(e[n]={});for(let t in i.data.bestKeyWords[r.url])if(i.data.bestKeyWords[r.url].hasOwnProperty(t)){t in a||(a[t]=[]),t in e[n]||(e[n][t]=0);let s=r.sumAmount*i.data.bestKeyWords[r.url][t];e[n][t]+=s,a[t].length>0&&a[t][a[t].length-1][0]==n?a[t][a[t].length-1][1]+=s:a[t].push([n,s])}}for(let t in a){s[t]=0;for(let e in a[t])s[t]+=a[t][e][1]}let n=[];for(let t in s)n.push({word:t,sum:s[t]});n.sort((t,e)=>e.sum-t.sum),n=n.splice(0,10);for(let t in n){let e=n[t];r.push({name:e.word,data:a[e.word]})}i.data.historyWords=r;let o={},l=[];for(let e in t){let a=t[e],s=[new Date(a.day).getTime(),a.sumAmount];a.url in o?o[a.url].push(s):o[a.url]=[s]}for(let t in o)l.push({name:t,data:o[t]});l=l.splice(0,5),i.data.historySites=l;let d={},c=[],u={};for(let e in t){let a=t[e],s=[new Date(a.day).getTime(),a.sumAmount],r=i.data.topicsByUrl[a.url];for(let t in r){r[t];let e=i.data.allTopics[t].slice(0,3).map(t=>t.word).join(" ");e in d||(d[e]={}),s[0]in d[e]||(d[e][s[0]]=0),e in u||(u[e]=0),d[e][s[0]]+=a.sumAmount,u[e]+=a.sumAmount}}delete d[void 0];let m=[];for(let t in u)m.push({topic:t,value:u[t]});m.sort((t,e)=>e.value-t.value);let v=(m=m.splice(0,8)).map(t=>t.topic);for(let t in d){let e=d[t],a=[];if(v.indexOf(t)>-1){Object.keys(e).map(t=>{a.push([parseInt(t),e[t]])});c.push({name:t,data:a})}}i.data.historyTopics=c}},refreshTopics:()=>fetch(i.data.apiBase+"/api/allTopics",{credentials:"include"}).then(t=>t.json()).then(t=>{i.data.api.allTopics=t}),computeTopics(){const t=i.data.api.allTopics;if(i.data.allTopics={},t){for(let e of t)e.topic_id in i.data.allTopics||(i.data.allTopics[e.topic_id]=[]),i.data.allTopics[e.topic_id].push({word:e.word,probability:e.value});for(let t in i.data.allTopics)i.data.allTopics[t].sort((t,e)=>e.probability-t.probability)}},refreshOldest:()=>fetch(i.data.apiBase+"/api/oldestEntry",{credentials:"include"}).then(t=>t.json()).then(t=>{i.data.api.oldestEntry=t}),computeOldest(){const t=i.data.api.oldestEntry;t&&(i.data.oldest=r.day(t.date))},refreshInterestsList:()=>fetch(i.data.apiBase+"/api/interestsList",{credentials:"include"}).then(t=>t.json()).then(t=>{i.data.api.interestsList=t}),computeInterestsList(){const t=i.data.api.interestsList;if(t){let e=[];t.map(t=>{let a=t.name.split(" / ");t.label=a[a.length-1],e.push(t)}),i.data.interestsList=e}},refreshEverything:t=>(i.data.loading=!0,i.methods.connectionState().then(()=>{if(i.data.connected){let e=i.methods.refreshVisitedSites(t),a=i.methods.refreshWatchedSites(t),s=i.methods.refreshInterestsList(),r=i.methods.refreshUserInterests(),n=i.methods.refreshHistory(t),o=i.methods.refreshTopics(),l=i.methods.refreshTags(),d=i.methods.refreshCurrentTags(),c=i.methods.refreshTrackersStats(t),u=i.methods.refreshTrackers(),m=i.methods.refreshGeneralStats();Promise.all([e,a,r,n,o,s,l,d]).then(()=>{i.methods.computeVisitedSites(),i.methods.computeWatchedSites(),i.methods.computeInterestsList(),i.methods.computeUserInterests(),i.methods.computeTags(),i.methods.computeWords(),i.methods.computeTopics(),i.methods.computeHistory(),i.methods.computeWatchedTopics(),i.data.loading=!1}),Promise.all([c,u]).then(()=>{i.methods.computeTrackers(),i.data.loadingTrackers=!1}),m.then(()=>{i.data.loadingStats=!1})}})),refreshUserInterests:()=>fetch(i.data.apiBase+"/api/getInterests",{credentials:"include"}).then(t=>t.json()).then(t=>{i.data.api.getInterests=t}),computeUserInterests(){const t=i.data.api.getInterests;if(t){let e=[];t.map(t=>{e.push(t.interest_id)}),i.data.settingsForm.interests=e}},sendInterests(t){let e="?data="+t;return fetch(i.data.apiBase+"/api/setInterests"+e,{credentials:"include"}).then(t=>t.json()).then(t=>{})},sendTag(t,e,a){let s="?interestId="+e+"&topicId="+t+"&words="+a;return fetch(i.data.apiBase+"/api/setTag"+s,{credentials:"include"}).then(t=>t.json()).then(t=>{})},refreshTags:()=>fetch(i.data.apiBase+"/api/getTags",{credentials:"include"}).then(t=>t.json()).then(t=>{i.data.api.getTags=t}),refreshCurrentTags:()=>fetch(i.data.apiBase+"/api/getCurrentTags",{credentials:"include"}).then(t=>t.json()).then(t=>{i.data.api.getCurrentTags=t}),computeTags(){if(i.data.currentTags={},i.data.tags=[],i.data.api.getCurrentTags)for(let t of i.data.api.getCurrentTags)i.data.currentTags[t.topic_id]=t.interest_id;if(i.data.api.getTags)for(let t of i.data.api.getTags)i.data.tags.push({interestId:t.interest_id,words:t.word})},refreshTrackers(){let t=i.data.apiBase+"/api/getTrackers";return fetch(t,{credentials:"include"}).then(t=>t.json()).then(t=>{i.data.api.getTrackers=t})},computeTrackers(){if(i.data.trackers={},i.data.trackersPage.mostRecieving=[],i.data.trackersPage.mostSending=[],i.data.stats.nbRequests=0,!i.data.api.getTrackers)return;for(let t of i.data.api.getTrackers){let e=t.urlDomain,a=t.reqDomain;e in i.data.trackers||(i.data.trackers[e]={}),i.data.trackers[e][a]={amount:t.amount,size:t.size}}if(!i.data.trackers)return;const t={};for(let e in i.data.trackers){e in i.data.trackersForm.active.from||(i.data.trackersForm.active.from[e]=!0);let a=0,s=0,r=0,n=0;for(let o in i.data.trackers[e]){o in i.data.trackersForm.active.to||(i.data.trackersForm.active.to[o]=!0);let l=0,d=0,c=0,u=i.data.trackers[e][o].amount;i.data.stats.nbRequests+=u,i.data.trackersForm.active.from[e]&&i.data.trackersForm.active.to[o]&&(c++,l+=i.data.trackers[e][o].amount,d+=i.data.trackers[e][o].size,n++,a+=i.data.trackers[e][o].amount,s+=i.data.trackers[e][o].size),r+=u,o in t||(t[o]={amount:0,size:0,realAmount:0,domains:0}),t[o].amount+=l,t[o].size+=d,t[o].realAmount+=u,t[o].domains+=c}i.data.trackersPage.mostSending.push({from:e,amount:a,size:s,realAmount:r,domains:n})}for(let e in t)i.data.trackersPage.mostRecieving.push({to:e,amount:t[e].amount,size:t[e].size,realAmount:t[e].realAmount,domains:t[e].domains});i.data.trackersPage.mostSending.sort((t,e)=>e.realAmount-t.realAmount),i.data.trackersPage.mostRecieving.sort((t,e)=>e.realAmount-t.realAmount),i.data.trackersPage.mostSending=i.data.trackersPage.mostSending.splice(0,100),i.data.trackersPage.mostRecieving=i.data.trackersPage.mostRecieving.splice(0,100)},refreshTrackersStats(t){let e=i.data.apiBase+"/api/getTrackersStats";return t&&(e+="?from="+i.data.filterForm.startDate+"&to="+i.data.filterForm.endDate),fetch(e,{credentials:"include"}).then(t=>t.json()).then(t=>{i.data.api.getTrackersStats=t})},refreshGeneralStats(){let t=i.data.apiBase+"/api/getGeneralStats";return fetch(t,{credentials:"include"}).then(t=>t.json()).then(t=>{i.data.api.getGeneralStats=t})},trackersForm:{refreshNbHidden(){i.data.trackersForm.nbHiddenRecieving=0,i.data.trackersForm.nbHiddenSending=0;for(let t in i.data.trackersForm.active.to)!1===i.data.trackersForm.active.to[t]&&i.data.trackersForm.nbHiddenRecieving++;for(let t in i.data.trackersForm.active.from)!1===i.data.trackersForm.active.from[t]&&i.data.trackersForm.nbHiddenSending++}}}};window.ProfileStore=i;var n=i;s.a.filter("toTime",function(t){if(t<60)return t+"sec";var e=~~(t/60);if(e<60)return e+"min "+(t-60*e)+"sec";var a=~~(e/60);if(a<24)return a+"h "+(e-60*a)+"min";var s=~~(a/24);return s+"d "+(a-24*s)+"h"});var o=s.a.extend({name:"app",data:()=>({ProfileStore:n.data}),methods:{},beforeMount(){n.methods.refreshOldest().then(()=>{n.methods.computeOldest(),n.data.filterForm.startDate=n.data.oldest}),n.methods.refreshEverything(!1)}}),l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("nav",{staticClass:"navbar navbar-expand-lg navbar-dark bg-dark"},[a("div",{staticClass:"container"},[t._m(0),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarsExampleDefault"}},[a("ul",{staticClass:"navbar-nav mr-auto mt-2 mt-lg-0"},[a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link exact",attrs:{to:"/"}},[t._v("General")])],1),t._v(" "),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/profile"}},[t._v("Profile")])],1),t._v(" "),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/trackers"}},[t._v("Trackers")])],1),t._v(" "),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/stats"}},[t._v("Stats")])],1)]),t._v(" "),a("ul",{staticClass:"navbar-nav justify-content-end"},[a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/settings"}},[t._v("Settings")])],1)])])])]),t._v(" "),a("div",{staticClass:"container main"},[t.ProfileStore.connected?a("router-view"):t._e(),t._v(" "),null===t.ProfileStore.connected?a("div",[t._v("Connecting...")]):t._e(),t._v(" "),0==t.ProfileStore.connected?a("div",[t._v("You're not connected.")]):t._e()],1),t._v(" "),a("div",{attrs:{id:"alert_placeholder"}}),t._v(" "),a("hr"),t._v(" "),t._m(2)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"navbar-brand",attrs:{href:"#"}},[e("img",{staticClass:"logo",attrs:{src:a("7Itr")}}),this._v(" Web Digital Footprints")])},function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"navbar-toggler navbar-toggler-right hidden-lg-up",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarsExampleDefault","aria-controls":"navbarsExampleDefault","aria-expanded":"false","aria-label":"Toggle navigation"}},[e("span",{staticClass:"navbar-toggler-icon"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("footer",{staticClass:"footer"},[e("div",{staticClass:"container"},[e("p",{staticClass:"text-muted"},[this._v("wdf-frontend sources available on "),e("a",{attrs:{href:"https://github.com/SDIPI/wdf-frontend"}},[this._v("GitHub")])])])])}]};var d=a("VU/8")(o,l,!1,function(t){a("mHWr")},null,null).exports,c=a("/ocq"),u={name:"General",components:{},data:function(){return{ProfileStore:n.data}},methods:{}},m={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"profile"}},[a("h1",[t._v("General")]),t._v(" "),a("p",[t._v("\n    Welcome to your dashboard of Web Digital Footprints.\n  ")]),t._v(" "),a("h2",[t._v("About")]),t._v(" "),a("p",[a("b",[t._v("Web Digital Footprints")]),t._v(" is a project that aims to create a browser extension that analyses users' web browsing habits. The goal is to raise awareness about what kind of information are leave while browsing, and how these informations can be used by third parties to infer personal informations.\n  ")]),t._v(" "),a("p",[t._v("\n    This view is an "),a("b",[t._v("early version")]),t._v(" of the features of the extension.\n  ")]),t._v(" "),a("p",[t._v("\n    This project is developed by Kewin Dousse as part of a Master project for the "),a("a",{attrs:{href:"https://sdipi.ch"}},[t._v("SDIPI")]),t._v(".\n  ")]),t._v(" "),a("p",[t._v("\n    All the source code related to this project including the browser extension, server backend and this interface are open-source and available on "),a("a",{attrs:{href:"https://github.com/SDIPI"}},[t._v("GitHub")]),t._v(".\n  ")])])}]};var v=a("VU/8")(u,m,!1,function(t){a("tWRM")},null,null).exports,f={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",[t._v("#")]),t._v(" "),a("th",[t._v(t._s(t.labels[0]))]),t._v(" "),a("th",{attrs:{colspan:"2"}},[t._v(t._s(t.labels[1]))])])]),t._v(" "),a("tbody",t._l(t.list,function(e,s){return a("tr",[a("th",{attrs:{scope:"row"}},[t._v(t._s(s+1))]),t._v(" "),a("td",[t._v(t._s(e[t.keyLabel]))]),t._v(" "),a("td",{staticClass:"middle"},[a("strong",[t._v(t._s(t.valueF?t.valueF(e[t.keyValue]):e[t.keyValue]))])]),t._v(" "),a("td",{staticClass:"middle bar"},[a("div",{staticClass:"progress"},[a("div",{staticClass:"progress-bar",style:"width: "+100*e[t.keyValue]/t.maxValue+"%;",attrs:{role:"progressbar","aria-valuenow":100*e[t.keyValue]/t.maxValue,"aria-valuemin":"0","aria-valuemax":t.maxValue}})])])])}))])},staticRenderFns:[]};var h=a("VU/8")({name:"BarList",props:["list","labels","keyLabel","keyValue","valueF"],computed:{maxValue:function(){return this.list[0][this.keyValue]}}},f,!1,function(t){a("sxL9")},null,null).exports,p={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",[t._v("#")]),t._v(" "),a("th",[t._v(t._s(t.labels[0]))]),t._v(" "),a("th",[t._v(t._s(t.labels[1]))])])]),t._v(" "),a("tbody",t._l(t.list,function(e,s){return a("tr",[a("th",{attrs:{scope:"row"}},[t._v(t._s(s+1))]),t._v(" "),t._l(t.displayF(e),function(e){return a("td",[t._v(t._s(e))])})],2)}))])},staticRenderFns:[]};var _=a("VU/8")({name:"TableList",props:["list","labels","displayF"],mounted:function(){}},p,!1,function(t){a("d/hT")},null,null).exports,b={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",[t._v("#")]),t._v(" "),a("th",[t._v(t._s(t.labels[0]))]),t._v(" "),a("th",[t._v(t._s(t.labels[1]))]),t._v(" "),a("th",{attrs:{colspan:"2"}},[t._v(t._s(t.labels[2]))])])]),t._v(" "),a("tbody",t._l(t.list,function(e,s){return a("tr",[a("th",{attrs:{scope:"row"}},[t._v(t._s(s+1))]),t._v(" "),a("td",{staticClass:"first"},[t.linkLabels?a("a",{attrs:{href:(t.linkPrefix?t.linkPrefix:"")+e[t.keyLabel],target:"_blank"}},[t._v(t._s(e[t.keyLabel]))]):a("span",[t._v(t._s(e[t.keyLabel]))])]),t._v(" "),a("td",{staticClass:"middle"},[a("var",[t._v(t._s(e[t.keyValue1]?t.valueF1?t.valueF1(e[t.keyValue1]):e[t.keyValue1]:""))])]),t._v(" "),a("td",{staticClass:"middle toRight"},[a("strong",[t._v(t._s(e[t.keyValue2]?t.valueF2?t.valueF2(e[t.keyValue2]):e[t.keyValue2]:""))])]),t._v(" "),a("td",{staticClass:"middle bar"},[a("div",{staticClass:"progress"},[a("div",{staticClass:"progress-bar",style:"width: "+100*e[t.keyValue2]/t.maxValue+"%;",attrs:{role:"progressbar","aria-valuenow":100*e[t.keyValue2]/t.maxValue,"aria-valuemin":"0","aria-valuemax":t.maxValue}})])])])}))])},staticRenderFns:[]};var g=a("VU/8")({name:"BarExtendedList",props:["list","labels","keyLabel","keyValue1","keyValue2","valueF1","valueF2","linkLabels","linkPrefix"],computed:{maxValue:function(){return this.list[0][this.keyValue2]}}},b,!1,function(t){a("hrg8")},null,null).exports,y={name:"MostVisited",components:{TableList:_,BarList:h,BarExtendedList:g},data:function(){return{ProfileStore:n.data}},methods:{}},k={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("h2",{staticClass:"mb-0"},[this._v("Most Visited Pages")]),this._v(" "),e("BarExtendedList",{attrs:{list:this.ProfileStore.visitedSites,labels:["Page","Keywords","Views"],linkLabels:!0,keyLabel:"url",keyValue1:"words",keyValue2:"count",valueF1:function(t){return t.slice(0,3).map(function(t){return t.word}).join(" ")}}}),this._v(" "),e("h2",{staticClass:"mb-0"},[this._v("Most Visited Domains")]),this._v(" "),e("BarExtendedList",{attrs:{list:this.ProfileStore.visitedDomains,labels:["Domain","Keywords","Views"],linkLabels:!0,linkPrefix:"http://",keyLabel:"domain",keyValue1:"words",keyValue2:"count",valueF1:function(t){return t.slice(0,3).map(function(t){return t.word}).join(" ")}}})],1)},staticRenderFns:[]};var C=a("VU/8")(y,k,!1,function(t){a("qRpx")},null,null).exports,S={name:"MostWatched",components:{TableList:_,BarList:h,BarExtendedList:g},data:function(){return{ProfileStore:n.data}},methods:{}},x={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("h2",{staticClass:"mb-0"},[this._v("Most Watched Pages")]),this._v(" "),e("BarExtendedList",{attrs:{list:this.ProfileStore.watchedSites,labels:["Page","Keywords","Time"],keyLabel:"url",keyValue1:"words",keyValue2:"time",linkLabels:!0,valueF1:function(t){return t.slice(0,3).map(function(t){return t.word}).join(" ")},valueF2:function(t){return this.$options.filters.toTime(t)}}}),this._v(" "),e("h2",{staticClass:"mb-0"},[this._v("Most Watched Domains")]),this._v(" "),e("BarExtendedList",{attrs:{list:this.ProfileStore.watchedDomains,labels:["Domain","Keywords","Time"],keyLabel:"domain",keyValue1:"words",keyValue2:"time",linkLabels:!0,linkPrefix:"http://",valueF1:function(t){return t.slice(0,3).map(function(t){return t.word}).join(" ")},valueF2:function(t){return this.$options.filters.toTime(t)}}})],1)},staticRenderFns:[]};var w=a("VU/8")(S,x,!1,function(t){a("/e4I")},null,null).exports,P=s.a.extend({name:"Profile",components:{TableList:_,BarList:h,MostVisited:C,MostWatched:w},data:()=>({ProfileStore:n.data,Utils:r}),methods:{refreshProfileStoreWithDates(){n.methods.refreshEverything(!0)}},mounted(){this.$data.ProfileStore.filterForm.endDate=r.today()}}),F={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"profile"}},[a("div",{staticClass:"row"},[t._m(0),t._v(" "),a("div",{staticClass:"col contains-tabs"},[a("ul",{staticClass:"nav nav-tabs nav-fill blue"},[a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/profile/wordcloud"}},[t._v("Wordcloud")])],1),t._v(" "),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/profile/topics"}},[t._v("Topics List")])],1),t._v(" "),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/profile/mostvisited"}},[t._v("Most Visited")])],1),t._v(" "),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/profile/mostwatched"}},[t._v("Most Watched")])],1),t._v(" "),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/profile/history"}},[t._v("History")])],1)])]),t._v(" "),a("div",{staticClass:"col-md-auto after-tabs"},[a("div",{staticClass:"btn-group"},[a("button",{staticClass:"btn btn-secondary dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("\n          Date filter\n        ")]),t._v(" "),a("form",{staticClass:"dropdown-menu p-4 dropdown-menu-right",on:{submit:function(t){t.preventDefault()}}},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"startDate"}},[t._v("From")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.ProfileStore.filterForm.startDate,expression:"ProfileStore.filterForm.startDate"}],staticClass:"form-control",attrs:{type:"date",min:t.ProfileStore.oldest,max:t.Utils.today(),placeholder:"Start date",id:"startDate"},domProps:{value:t.ProfileStore.filterForm.startDate},on:{input:function(e){e.target.composing||t.$set(t.ProfileStore.filterForm,"startDate",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"endDate"}},[t._v("To")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.ProfileStore.filterForm.endDate,expression:"ProfileStore.filterForm.endDate"}],staticClass:"form-control",attrs:{type:"date",min:t.ProfileStore.oldest,max:t.Utils.today(),placeholder:"End date",id:"endDate"},domProps:{value:t.ProfileStore.filterForm.endDate},on:{input:function(e){e.target.composing||t.$set(t.ProfileStore.filterForm,"endDate",e.target.value)}}})]),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"submit",disabled:t.ProfileStore.loading},on:{click:function(e){t.refreshProfileStoreWithDates(!0)}}},[t._v("Apply")])])])])]),t._v(" "),t.ProfileStore.loading?t._e():a("router-view",{staticClass:"router-view"}),t._v(" "),t.ProfileStore.loading?a("div",{staticClass:"loader"}):t._e(),t._v(" "),t.ProfileStore.loading?a("div",{staticClass:"middleText"},[t._v("Loading data from server")]):t._e()],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-md-auto before-tabs"},[e("h1",[this._v("Profile")])])}]};var T=a("VU/8")(P,F,!1,function(t){a("I8cC")},null,null).exports;var L={name:"WordCloud",components:{},data:function(){return{ProfileStore:n.data}},methods:{},mounted:function(){!function(){var t=[];for(var e in n.data.watchedKeyWords)t.push({key:e,value:n.data.watchedKeyWords[e]});t=t.splice(0,200),d3.scale.category20b();var a,s=1100,r=d3.layout.cloud().timeInterval(1/0).size([s,600]).fontSize(function(t){return a(+t.value)}).text(function(t){return t.key}).on("end",function(t,e){var a=1100,s=600;i.attr("width",a).attr("height",s);var r=e?Math.min(a/Math.abs(e[1].x-550),a/Math.abs(e[0].x-550),s/Math.abs(e[1].y-300),s/Math.abs(e[0].y-300))/2:1,n=o.selectAll("text").data(t,function(t){return t.text.toLowerCase()});n.transition().duration(1e3).attr("transform",function(t){return"translate("+[t.x,t.y]+")rotate("+t.rotate+")"}).style("font-size",function(t){return t.size+"px"}),n.enter().append("text").attr("text-anchor","middle").attr("transform",function(t){return"translate("+[t.x,t.y]+")rotate("+t.rotate+")"}).style("font-size",function(t){return t.size+"px"}).style("opacity",1e-6).transition().duration(1e3).style("opacity",1),n.style("font-family",function(t){return"Arimo"}).style("fill",function(t){return"red"}).text(function(t){return t.text}),o.transition().attr("transform","translate("+[550,300]+")scale("+r+")")}),i=d3.select("#vis").append("svg").attr("width",s).attr("height",600),o=i.append("g").attr("transform","translate("+[550,300]+")");r.font("impact").spiral("archimedean"),a=d3.scale.sqrt().range([10,100]),t.length&&a.domain([+t[t.length-1].value||1,+t[0].value]),r.stop().words(t).start()}(),$(function(){$('[data-toggle="tooltip"]').tooltip()})}},V={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("h2",{staticClass:"mb-0"},[this._v("\n    Wordcloud\n  ")]),this._v(" "),e("div",{attrs:{id:"vis"}}),this._v(" "),e("p",[e("span",{staticClass:"hint badge badge-secondary",attrs:{"data-toggle":"tooltip","data-placement":"bottom",title:"This page shows a purely visual representation of the words you read the most while navigating.\n          The top 50 words you read the most often are displayed here.\n          A bigger word means it you read it more often."}},[this._v("What is this ?")])])])}]};var D=a("VU/8")(L,V,!1,function(t){a("gC3u")},null,null).exports,B={name:"BarList",props:["list","labels","keyLabel","keyValue","valueF","cbChanged"],data:function(){return{ProfileStore:ProfileStore.data}},computed:{maxValue:function(){return this.list[0].amount}}},E={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",[t._v("#")]),t._v(" "),a("th",[t._v(t._s(t.labels[0]))]),t._v(" "),a("th",[t._v(t._s(t.labels[1]))]),t._v(" "),a("th",{attrs:{colspan:"2"}},[t._v("Estimated interest")])])]),t._v(" "),a("tbody",t._l(t.list,function(e,s){return a("tr",[a("th",{attrs:{scope:"row"}},[t._v(t._s(s+1))]),t._v(" "),a("td",[t._v(t._s(e[t.keyLabel]))]),t._v(" "),a("td",{staticClass:"middle"},[a("select",{ref:"topicSelect[index]",refInFor:!0,on:{change:function(a){t.cbChanged(a,e)}}},[a("option",{attrs:{value:"-1"}}),t._v(" "),t._l(t.ProfileStore.interestsList,function(s){return t.ProfileStore.settingsForm.interests.indexOf(s.id)>-1?a("option",{domProps:{value:s.id,selected:t.ProfileStore.currentTags[e.topicId]==s.id}},[t._v(t._s(s.label))]):t._e()})],2)]),t._v(" "),a("td",{staticClass:"middle"},[t._v("\n      "+t._s(Math.round(e.amount/t.list[0].amount*100))+"%\n    ")]),t._v(" "),a("td",{staticClass:"middle bar"},[a("div",{staticClass:"progress"},[a("div",{staticClass:"progress-bar",style:"width: "+100*e.amount/t.maxValue+"%;",attrs:{role:"progressbar","aria-valuenow":100*e.amount/t.maxValue,"aria-valuemin":"0","aria-valuemax":t.maxValue}})])])])}))])},staticRenderFns:[]};var M=a("VU/8")(B,E,!1,function(t){a("9Zvu")},null,null).exports;var A=s.a.extend({name:"Topics",components:{SelectList:M},data:function(){return{ProfileStore:n.data,selectedWord:!1,keywordsDict:{}}},methods:{selectChanged:function(t,e){var a=this;n.data.loading=!0,n.methods.sendTag(e.topicId,t.target.value,e.words).then(function(){n.methods.refreshCurrentTags().then(function(){n.methods.computeTags(),n.data.loading=!1,a.showalert("Related interest saved successfully.","success")})})},showalert:function(t,e){$("#alert_placeholder").append('<div id="alertdiv" class="alert alert-'+e+'"><a class="close" data-dismiss="alert">×</a><span>'+t+"</span></div>"),setTimeout(function(){$("#alertdiv").remove()},3e3)}},mounted:function(){$(function(){$('[data-toggle="tooltip"]').tooltip()})},beforeDestroy:function(){n.data.graph.selected=!1}}),I={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("h2",{staticClass:"mb-0"},[t._v("Topics List")]),t._v(" "),a("SelectList",{attrs:{list:t.ProfileStore.topicsPage.topics,labels:["Words","Related interest"],keyLabel:"words",keyValue:"amount",cbChanged:function(e,a){t.selectChanged(e,a)}}})],1)]),t._v(" "),t._m(0)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"hint badge badge-secondary",attrs:{"data-toggle":"tooltip","data-placement":"bottom",title:"This page shows a guess at which topics and words you're the probably the most interested to.\n          A 'topic' is a combination of multiple words. You can help us by assigning some of your interests to topics you find relevant."}},[this._v("What is this ?")])])}]};var R=a("VU/8")(A,I,!1,function(t){a("sXJR")},null,null).exports;function U(t){if(t<60)return t+"sec";var e=~~(t/60);if(e<60)return e+"min "+(t-60*e)+"sec";var a=~~(e/60);if(a<24)return a+"h "+(e-60*a)+"min";var s=~~(a/24);return s+"d "+(a-24*s)+"h"}var W={name:"History",components:{TableList:_,BarList:h},data:function(){return{ProfileStore:n.data}},methods:{},mounted:function(){var t=n.data.historyWords,e=n.data.historyTopics;Highcharts.chart("highChartContainer1",{chart:{type:"spline"},title:{text:""},xAxis:{type:"datetime",dateTimeLabelFormats:{month:"%e. %b",year:"%b"},title:{text:"Date"}},yAxis:{title:{text:"Time [sec]"},min:0},tooltip:{headerFormat:"<b>{series.name}</b><br>",pointFormatter:function(){var t=U(this.y),e=new Date(this.x);return e.getUTCDate()+"."+(e.getUTCMonth()+1)+"."+e.getUTCFullYear()+": "+t}},plotOptions:{spline:{marker:{enabled:!0}},series:{dataLabels:{enabled:!1}}},series:t}),Highcharts.chart("highChartContainer3",{chart:{type:"spline"},title:{text:""},xAxis:{type:"datetime",dateTimeLabelFormats:{month:"%e. %b",year:"%b"},title:{text:"Date"}},yAxis:{title:{text:"Time [sec]"},min:0},tooltip:{headerFormat:"<b>{series.name}</b><br>",pointFormatter:function(){var t=U(this.y),e=new Date(this.x);return e.getUTCDate()+"."+(e.getUTCMonth()+1)+"."+e.getUTCFullYear()+": "+t}},plotOptions:{spline:{marker:{enabled:!0}},series:{dataLabels:{enabled:!1}}},series:e})}},j={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("h2",{staticClass:"mb-0"},[this._v("History of topics")]),this._v(" "),e("div",{attrs:{id:"highChartContainer3"}}),this._v(" "),e("h2",{staticClass:"mb-0"},[this._v("History of words")]),this._v(" "),e("div",{attrs:{id:"highChartContainer1"}})])}]};var H=a("VU/8")(W,j,!1,function(t){a("ynSv")},null,null).exports,G=s.a.extend({name:"Trackers",components:{TableList:_,BarList:h,MostVisited:C,MostWatched:w},data:()=>({ProfileStore:n.data,Utils:r}),methods:{refreshProfileStoreWithDates(){n.methods.refreshEverything(!0)},exportJson(){let t=window.document.createElement("a");t.href=window.URL.createObjectURL(new Blob([JSON.stringify(n.data.trackers)],{type:"text/json"})),t.download="trackers.json",document.body.appendChild(t),t.click()}},mounted(){this.$data.ProfileStore.filterForm.endDate=r.today()}}),z={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"trackers"}},[a("div",{staticClass:"row"},[t._m(0),t._v(" "),a("div",{staticClass:"col contains-tabs"},[a("ul",{staticClass:"nav nav-tabs nav-fill blue"},[a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/trackers/send"},on:{click:function(e){t.ProfileStore.trackersForm.modalList.splice()}}},[t._v("\n            Most sending\n            "),t.ProfileStore.trackersForm.nbHiddenSending>0?a("span",{staticClass:"badge badge-warning"},[t._v(t._s(t.ProfileStore.trackersForm.nbHiddenSending)+" hidden")]):t._e()])],1),t._v(" "),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/trackers/receive"},on:{click:function(e){t.ProfileStore.trackersForm.modalList.splice()}}},[t._v("\n            Most recieving\n            "),t.ProfileStore.trackersForm.nbHiddenRecieving>0?a("span",{staticClass:"badge badge-warning"},[t._v(t._s(t.ProfileStore.trackersForm.nbHiddenRecieving)+" hidden")]):t._e()])],1)])]),t._v(" "),a("div",{staticClass:"col-md-auto after-tabs"},[a("div",{staticClass:"btn-group"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){t.exportJson()}}},[t._v("\n          Export data\n        ")])])])]),t._v(" "),t.ProfileStore.loadingTrackers?t._e():a("router-view",{staticClass:"router-view"}),t._v(" "),t.ProfileStore.loadingTrackers?a("div",{staticClass:"loader"}):t._e(),t._v(" "),t.ProfileStore.loadingTrackers?a("div",{staticClass:"middleText"},[t._v("Loading data from server")]):t._e()],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-md-auto before-tabs"},[e("h1",[this._v("Trackers")])])}]};var q=a("VU/8")(G,z,!1,function(t){a("LiS1")},null,null).exports,Q={name:"BarExtendedListTrackers",props:["list","labels","keyLabel","keyValue1","keyValue2","valueF1","valueF2","cbButton","activeList","fixedMax","keyValue3"],computed:{maxValue:function(){return this.fixedMax?this.fixedMax:this.list[0][this.keyValue2]}},methods:{clickHide:function(t){this.activeList[t]=!1,n.methods.computeTrackers(),this.list.splice(),n.methods.trackersForm.refreshNbHidden()},clickShow:function(t){this.activeList[t]=!0,n.methods.computeTrackers(),this.list.splice(),n.methods.trackersForm.refreshNbHidden()}}},N={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",[t._v("#")]),t._v(" "),a("th",[t._v(t._s(t.labels[0]))]),t._v(" "),a("th",[t._v("Visible")]),t._v(" "),a("th",[t._v(t._s(t.labels[1]))]),t._v(" "),a("th",[t._v(t._s(t.labels[3]))]),t._v(" "),a("th",{attrs:{colspan:"2"}},[t._v(t._s(t.labels[2]))])])]),t._v(" "),a("tbody",t._l(t.list,function(e,s){return a("tr",[a("th",{attrs:{scope:"row"}},[t._v(t._s(s+1))]),t._v(" "),a("td",{staticClass:"first"},[a("button",{staticClass:"btn btn-primary",class:{clickable:!0===t.activeList[e[t.keyLabel]]},attrs:{type:"button","data-toggle":"modal","data-target":"#exampleModal",disabled:!1===t.activeList[e[t.keyLabel]]},on:{click:function(a){t.cbButton(e[t.keyLabel])}}},[t._v(t._s(e[t.keyLabel]))])]),t._v(" "),a("td",{staticClass:"hint"},[!0===t.activeList[e[t.keyLabel]]?a("button",{staticClass:"btn btn-sm btn-outline-success smallButton",attrs:{type:"button"},on:{click:function(a){t.clickHide(e[t.keyLabel])}}},[a("i",{staticClass:"material-icons"},[t._v("visibility")])]):t._e(),t._v(" "),!1===t.activeList[e[t.keyLabel]]?a("button",{staticClass:"btn btn-sm btn-outline-danger smallButton",attrs:{type:"button"},on:{click:function(a){t.clickShow(e[t.keyLabel])}}},[a("i",{staticClass:"material-icons"},[t._v("visibility_off")])]):t._e()]),t._v(" "),a("td",{staticClass:"middle"},[a("var",[t._v(t._s(e[t.keyValue1]?t.valueF1?t.valueF1(e[t.keyValue1]):e[t.keyValue1]:"-"))])]),t._v(" "),a("td",{staticClass:"middle"},[a("strong",[t._v(t._s(e[t.keyValue3]?e[t.keyValue3]:0))])]),t._v(" "),a("td",{staticClass:"middle toRight"},[a("strong",[t._v(t._s(e[t.keyValue2]?t.valueF2?t.valueF2(e[t.keyValue2]):e[t.keyValue2]:0))])]),t._v(" "),a("td",{staticClass:"middle bar"},[a("div",{staticClass:"progress"},[a("div",{staticClass:"progress-bar",style:"width: "+100*e[t.keyValue2]/t.maxValue+"%;",attrs:{role:"progressbar","aria-valuenow":100*e[t.keyValue2]/t.maxValue,"aria-valuemin":"0","aria-valuemax":t.maxValue}})])])])}))])},staticRenderFns:[]};var J=a("VU/8")(Q,N,!1,function(t){a("8GQd")},null,null).exports,Y={name:"Contacted",components:{TableList:_,BarList:h,BarExtendedList:g,BarExtendedListTrackers:J},data:function(){return{ProfileStore:n.data}},methods:{}},O={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h2",{staticClass:"mb-0"},[t._v("Most contacted domains")]),t._v(" "),a("BarExtendedListTrackers",{attrs:{list:t.ProfileStore.trackersPage.mostRecieving,labels:["Domain","Recieved","Requests","Domains"],keyLabel:"to",keyValue1:"size",keyValue2:"amount",keyValue3:"domains",valueF1:function(t){return Math.floor(t/8/1024)+" kB"},cbButton:function(e){for(var a in t.ProfileStore.trackersForm.modalList=[],t.ProfileStore.trackersForm.selectedDomain=e,t.ProfileStore.trackers)if(e in t.ProfileStore.trackers[a]&&t.ProfileStore.trackersForm.active.from[a]){var s=t.ProfileStore.trackers[a][e];t.ProfileStore.trackersForm.modalList.push({label:a,amount:s.amount,size:s.size})}t.ProfileStore.trackersForm.modalList.sort(function(t,e){return e.amount-t.amount}).slice(0,100),t.ProfileStore.trackersForm.modalList.splice()},activeList:t.ProfileStore.trackersForm.active.to,fixedMax:t.ProfileStore.trackersPage.mostRecieving[0].realAmount}}),t._v(" "),a("div",{staticClass:"modal fade",attrs:{id:"exampleModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("Requests sent to "),a("strong",[t._v(t._s(t.ProfileStore.trackersForm.selectedDomain))])]),t._v(" "),t._m(0)]),t._v(" "),a("div",{staticClass:"modal-body"},[a("BarExtendedList",{attrs:{list:t.ProfileStore.trackersForm.modalList,labels:["Domain","Data","Requests","Domains"],keyLabel:"label",keyValue1:"size",keyValue2:"amount",valueF1:function(t){return Math.floor(t/8/1024)+" kB"},cbButton:function(e){t.ProfileStore.trackersForm.selectedDomain=e}}})],1),t._v(" "),t._m(1)])])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[this._v("Close")])])}]};var K=a("VU/8")(Y,O,!1,function(t){a("QJEm")},null,null).exports,Z={name:"Widespread",components:{TableList:_,BarList:h,BarExtendedListTrackers:J,BarExtendedList:g},data:function(){return{ProfileStore:n.data}},methods:{}},X={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h2",{staticClass:"mb-0"},[t._v("Most requesting domains")]),t._v(" "),a("BarExtendedListTrackers",{attrs:{list:t.ProfileStore.trackersPage.mostSending,labels:["Domain","Sent","Requests","Domains"],keyLabel:"from",keyValue1:"size",keyValue2:"amount",keyValue3:"domains",valueF1:function(t){return Math.floor(t/8/1024)+" kB"},cbButton:function(e){for(var a in t.ProfileStore.trackersForm.modalList=[],t.ProfileStore.trackersForm.selectedDomain=e,t.ProfileStore.trackers[e])if(t.ProfileStore.trackersForm.active.to[a]){var s=t.ProfileStore.trackers[e][a];t.ProfileStore.trackersForm.modalList.push({label:a,amount:s.amount,size:s.size})}t.ProfileStore.trackersForm.modalList.sort(function(t,e){return e.amount-t.amount}).slice(0,100),t.ProfileStore.trackersForm.modalList.splice()},activeList:t.ProfileStore.trackersForm.active.from,fixedMax:t.ProfileStore.trackersPage.mostSending[0].realAmount}}),t._v(" "),a("div",{staticClass:"modal fade",attrs:{id:"exampleModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("Requests sent from "),a("strong",[t._v(t._s(t.ProfileStore.trackersForm.selectedDomain))])]),t._v(" "),t._m(0)]),t._v(" "),a("div",{staticClass:"modal-body"},[a("BarExtendedList",{attrs:{list:t.ProfileStore.trackersForm.modalList,labels:["Domain","Data","Requests"],keyLabel:"label",keyValue1:"size",keyValue2:"amount",valueF1:function(t){return Math.floor(t/8/1024)+" kB"},cbButton:function(e){t.ProfileStore.trackersForm.selectedDomain=e}}})],1),t._v(" "),t._m(1)])])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[this._v("Close")])])}]};var tt=a("VU/8")(Z,X,!1,function(t){a("kSuX")},null,null).exports,et=s.a.extend({name:"Stats",components:{TableList:_,BarList:h,MostVisited:C,MostWatched:w},data:()=>({ProfileStore:n.data,Utils:r}),methods:{},mounted(){}}),at={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"trackers"}},[a("div",{staticClass:"row"},[t._m(0),t._v(" "),a("div",{staticClass:"col contains-tabs"},[a("ul",{staticClass:"nav nav-tabs nav-fill blue"},[a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/stats/user"}},[t._v("\n            Your stats\n          ")])],1),t._v(" "),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/stats/global"}},[t._v("\n            Global stats\n          ")])],1)])])]),t._v(" "),t.ProfileStore.loadingTrackers?t._e():a("router-view",{staticClass:"router-view"}),t._v(" "),t.ProfileStore.loadingTrackers?a("div",{staticClass:"loader"}):t._e(),t._v(" "),t.ProfileStore.loadingTrackers?a("div",{staticClass:"middleText"},[t._v("Loading data from server")]):t._e()],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-md-auto before-tabs"},[e("h1",[this._v("Stats")])])}]};var st=a("VU/8")(et,at,!1,function(t){a("ZvM9")},null,null).exports,rt={name:"UserStats",components:{TableList:_,BarList:h,BarExtendedList:g},data:function(){return{ProfileStore:n.data}},methods:{}},it={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h2",{staticClass:"mb-0"},[t._v("Your stats")]),t._v(" "),a("div",{staticClass:"router-view"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm"},[a("div",{staticClass:"card bg-light",staticStyle:{"max-width":"20rem"}},[a("div",{staticClass:"card-header"},[t._v("Requests gathered")]),t._v(" "),a("div",{staticClass:"card-body"},[a("h4",{staticClass:"card-title"},[t._v(t._s(t.ProfileStore.stats.nbRequests))]),t._v(" "),a("p",{staticClass:"card-text"},[t._v("total requests were gathered.")])])])]),t._v(" "),a("div",{staticClass:"col-sm"},[a("div",{staticClass:"card bg-light",staticStyle:{"max-width":"20rem"}},[a("div",{staticClass:"card-header"},[t._v("Trackers amount")]),t._v(" "),a("div",{staticClass:"card-body"},[a("h4",{staticClass:"card-title"},[t._v(t._s(t.ProfileStore.api.getTrackersStats.nbTrackers))]),t._v(" "),a("p",{staticClass:"card-text"},[t._v("total different trackers were registered.")])])])])])])])},staticRenderFns:[]};var nt=a("VU/8")(rt,it,!1,function(t){a("vyV/")},null,null).exports,ot={name:"GlobalStats",components:{},data:function(){return{ProfileStore:n.data}},methods:{}},lt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h2",{staticClass:"mb-0"},[t._v("Global stats")]),t._v(" "),t.ProfileStore.loadingTrackers?t._e():a("div",{staticClass:"router-view"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm"},[a("div",{staticClass:"card bg-light",staticStyle:{"max-width":"20rem"}},[a("div",{staticClass:"card-header"},[t._v("Requests gathered")]),t._v(" "),a("div",{staticClass:"card-body"},[a("h4",{staticClass:"card-title"},[t._v(t._s(t.ProfileStore.api.getGeneralStats.totalRequests))]),t._v(" "),a("p",{staticClass:"card-text"},[t._v("total requests were gathered.")])])])]),t._v(" "),a("div",{staticClass:"col-sm"},[a("div",{staticClass:"card bg-light",staticStyle:{"max-width":"20rem"}},[a("div",{staticClass:"card-header"},[t._v("Trackers amount")]),t._v(" "),a("div",{staticClass:"card-body"},[a("h4",{staticClass:"card-title"},[t._v(t._s(t.ProfileStore.api.getGeneralStats.trackersNb))]),t._v(" "),a("p",{staticClass:"card-text"},[t._v("total different trackers were registered.")])])])])])]),t._v(" "),t.ProfileStore.loadingStats?a("div",{staticClass:"loader"}):t._e(),t._v(" "),t.ProfileStore.loadingStats?a("div",{staticClass:"middleText"},[t._v("Loading data from server")]):t._e()])},staticRenderFns:[]};var dt=a("VU/8")(ot,lt,!1,function(t){a("Qpo3")},null,null).exports,ct={name:"InterestFields",components:{},data:function(){return{ProfileStore:n.data}},methods:{},mounted:function(){var t=$("#interests").selectize({persist:!1,createOnBlur:!1,create:!1,maxItems:10,valueField:"id",labelField:"label",searchField:["id","name","label"],options:n.data.interestsList,onChange:function(){n.data.settingsForm.interests=arguments[0].split(",")},render:{option:function(t,e){var a=t.name.split(" / ");return'<div><span class="label">'+e(a.length>1?a.slice(0,a.length-1).join(" / "):a[0])+" / </span>"+(t.label?'<span class="caption">'+e(t.label)+"</span>":"")+"</div>"}}});if(n.data.settingsForm.interests){var e=t[0].selectize,a=n.data.settingsForm.interests;e.setValue(a)}},beforeDestroy:function(){n.data.settingsForm.interests=n.data.settingsForm.interests.map(function(t){return parseInt(t)})}},ut={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"interests"}},[this._v("Interest fields")]),this._v(" "),e("input",{staticClass:"form-control",attrs:{type:"text",id:"interests",placeholder:"Enter interest fields"}})])}]};var mt={name:"Settings",components:{interestfields:a("VU/8")(ct,ut,!1,function(t){a("0Khs")},null,null).exports},data:function(){return{ProfileStore:n.data}},methods:{sendInterests:function(){var t=this;n.data.loading=!0,n.methods.sendInterests(n.data.settingsForm.interests).then(function(){n.methods.refreshUserInterests().then(function(){n.methods.computeUserInterests(),n.data.loading=!1,t.showalert("Interest saved successfully.","success")})})},showalert:function(t,e){$("#alert_placeholder").append('<div id="alertdiv" class="alert alert-'+e+'"><a class="close" data-dismiss="alert">×</a><span>'+t+"</span></div>"),setTimeout(function(){$("#alertdiv").remove()},3e3)}},mounted:function(){$("#interests").selectize({persist:!1,createOnBlur:!1,create:!1,maxItems:10,valueField:"id",labelField:"label",searchField:["id","name","label"],options:n.interestsList}),$(function(){$('[data-toggle="tooltip"]').tooltip()})}},vt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"profile"}},[a("h1",[t._v("Settings")]),t._v(" "),t.ProfileStore.loading?t._e():a("div",[a("interestfields"),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"},on:{click:function(e){t.sendInterests()}}},[t._v("Submit")]),t._v(" "),t._m(0)],1),t._v(" "),t.ProfileStore.loading?a("div",{staticClass:"loader"}):t._e(),t._v(" "),t.ProfileStore.loading?a("div",{staticClass:"middleText"},[t._v("Loading data from server")]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"whatsthis"},[e("span",{staticClass:"hint badge badge-secondary",attrs:{"data-toggle":"tooltip","data-placement":"bottom",title:"You can help us classify web sites and online content by telling us what are your general interests in life, and then assign them in the 'Topics graph' tab."}},[this._v("What is this ?")])])}]};var ft=a("VU/8")(mt,vt,!1,function(t){a("g5ra")},null,null).exports;s.a.use(c.a);var ht=new c.a({routes:[{path:"/",name:"General",component:v},{path:"/trackers",name:"Trackers",component:q,children:[{path:"",redirect:"send"},{path:"receive",name:"Contacted",component:K},{path:"send",name:"Widespread",component:tt}]},{path:"/profile",name:"Profile",component:T,children:[{path:"",redirect:"wordcloud"},{path:"wordcloud",name:"WordCloud",component:D},{path:"topics",name:"TopicsList",component:R},{path:"mostvisited",name:"MostVisited",component:C},{path:"mostwatched",name:"MostWatched",component:w},{path:"history",name:"History",component:H}]},{path:"/stats",name:"Stats",component:st,children:[{path:"",redirect:"user"},{path:"user",name:"UserStats",component:nt},{path:"global",name:"GlobalStats",component:dt}]},{path:"/settings",name:"Settings",component:ft}]});s.a.config.productionTip=!1,new s.a({el:"#app",router:ht,template:"<App/>",components:{App:d}})},QJEm:function(t,e){},Qpo3:function(t,e){},ZvM9:function(t,e){},"d/hT":function(t,e){},g5ra:function(t,e){},gC3u:function(t,e){},hrg8:function(t,e){},kSuX:function(t,e){},mHWr:function(t,e){},qRpx:function(t,e){},sXJR:function(t,e){},sxL9:function(t,e){},tWRM:function(t,e){},"vyV/":function(t,e){},ynSv:function(t,e){}},["NHnr"]);